# 快速開始 - CalDAV 修復測試

## 🔧 我已經修復了什麼？

您遇到的 **403 Forbidden 錯誤**已經修復！

**問題原因**：程式使用了錯誤的 URL 格式
- ❌ 錯誤：`https://caldav.icloud.com:443/redmaqic/calendars/`
- ✅ 正確：`https://caldav.icloud.com:443/12345678/calendars/`

**解決方案**：實作 CalDAV 標準服務發現協議，自動取得正確的 URL

## 📝 現在您需要做什麼？

### 步驟 1：更新您的憑證

打開 `src/main.cpp`，找到這兩行並更新：

```cpp
QString appleId = "your-apple-id@example.com";  // ← 改成您的 Apple ID
QString appPassword = "xxxx-xxxx-xxxx-xxxx";    // ← 改成應用程式專用密碼
```

💡 **如何取得應用程式專用密碼？**
1. 開啟 https://appleid.apple.com
2. 登入後進入「安全性」區段
3. 點選「應用程式專用密碼」
4. 產生新密碼（格式：xxxx-xxxx-xxxx-xxxx）

### 步驟 2：重新編譯

```bash
cd build
cmake --build . --config Release
```

### 步驟 3：執行測試

```bash
cd build/Release
.\CalendarIntegration.exe
```

## ✅ 成功的標誌

如果修復成功，您會看到：

```
開始 CalDAV 服務發現...
發現 principal URL: /12345678/principal/
發現 calendar home URL: /12345678/calendars/
發現 3 個行事曆
  - 工作: ...
  - 個人: ...
  - 家庭: ...

✅ Apple Calendar 認證成功！
```

## ❌ 如果還是失敗

請檢查：

1. ✓ Apple ID 格式正確（email 格式）
2. ✓ 使用**應用程式專用密碼**（不是 Apple ID 密碼！）
3. ✓ Apple ID 已啟用雙重認證
4. ✓ 網路可以連到 caldav.icloud.com

然後把完整的輸出訊息提供給我。

## 📚 詳細文件

如果您想了解更多：

- **SUMMARY.md** - 完整說明（推薦先看這個）
- **TESTING_GUIDE.md** - 詳細測試指南
- **CALDAV_FIX.md** - 技術細節

## 🎯 重點整理

✅ **已修復**：403 Forbidden 錯誤  
✅ **已實作**：CalDAV 標準服務發現  
✅ **已移除**：硬編碼的憑證  
✅ **已改進**：錯誤處理和日誌  
📝 **需要您**：填入您的憑證並測試  

## 💪 準備好了嗎？

1. 更新憑證 → 2. 編譯 → 3. 執行 → 4. 看到成功訊息！

祝測試順利！🎉

---

**問題或需要幫助？**  
請提供完整的程式輸出訊息，我會協助診斷。
